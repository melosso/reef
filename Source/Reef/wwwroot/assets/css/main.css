body {
    font-family: 'Inter', sans-serif;
    /* Hide body for one render tick so Tailwind's MutationObserver can
       inject all styles before the first paint.  The animation fires
       immediately (0s duration, 0ms delay) which is enough to push
       visibility into the next microtask batch. */
    animation: reef-reveal 0s 20ms forwards;
    visibility: hidden;
}
@keyframes reef-reveal {
    to { visibility: visible; }
}

/* ── SPA view transitions ─────────────────────────────────────────────────── */
/* Keep the sidebar visually stable — it is a persistent shell element that
   should not participate in the content cross-fade. */
#sidebar {
    view-transition-name: sidebar;
}
/* Snap the sidebar instantly; only the content area fades. */
::view-transition-group(sidebar) {
    animation-duration: 0s;
}
/* Quick, subtle fade for the content area. */
::view-transition-old(root),
::view-transition-new(root) {
    animation-duration: 120ms;
    animation-timing-function: ease-out;
}
.user-menu-expanded {
    max-height: 200px;
    transition: max-height 0.3s ease-in-out;
}
.user-menu-collapsed {
    max-height: 0;
    transition: max-height 0.3s ease-in-out;
}
.disable-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
#user-initial {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background:
        radial-gradient(2px 2px at 20% 30%, white, transparent),
        radial-gradient(2px 2px at 60% 70%, white, transparent),
        radial-gradient(1px 1px at 50% 50%, white, transparent),
        radial-gradient(1px 1px at 80% 10%, white, transparent),
        radial-gradient(2px 2px at 90% 60%, white, transparent),
        radial-gradient(1px 1px at 10% 90%, white, transparent),
        radial-gradient(1.5px 1.5px at 40% 80%, white, transparent),
        linear-gradient(45deg, #0a0e27 0%, #16213e 50%, #0f3460 100%);
    background-size: 300% 300%;
    background-position: 0% 0%;
    animation: spaceFlow 13s ease-in-out infinite;
    cursor: pointer;
    transition: all 0.3s ease-out;
}
#user-initial:hover {
    animation: spaceFlow 13s ease-in-out infinite, gentlePulse 3s ease-in-out infinite;
    box-shadow: inset 0 0 10px rgba(100, 150, 255, 0.25);
}
@keyframes spaceFlow {
    0% {
        background-position: 0% 0%;
    }
    15% {
        background-position: 70% 30%;
    }
    30% {
        background-position: 40% 80%;
    }
    45% {
        background-position: 90% 20%;
    }
    60% {
        background-position: 20% 70%;
    }
    75% {
        background-position: 60% 40%;
    }
    90% {
        background-position: 10% 90%;
    }
    100% {
        background-position: 0% 0%;
    }
}
@keyframes gentlePulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.015);
    }
}